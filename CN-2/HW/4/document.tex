\documentclass{article}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{enumitem}
\usepackage{graphicx}
\usepackage{amssymb}
\usepackage{bytefield}
\usepackage{array}
\usepackage{forest}
\usepackage{float}
\usepackage{fancyhdr} % Custom headers/footers
\usepackage{colortbl}
\usepackage[left=0.6in, right=0.6in, top=1in, bottom=0.9in]{geometry}
\usepackage{indentfirst}
\usepackage{changepage, titlesec}
\usepackage{booktabs}
\usepackage{array}
\usepackage{adjustbox} % for adjustwidth
\usepackage{multicol} % for side-by-side columns
\setlength{\parindent}{1.5em} % Set indentation size (optional)
\usepackage{amsmath} % Required for align environment
\usepackage{xepersian}
\settextfont{Vazirmatn FD}
\setlatintextfont{Noto Serif} 


\pagestyle{fancy}     % Enable fancy headers
\fancyhf{}            % Clear default header/footer
\renewcommand{\headrulewidth}{0pt} % Disable default header line

\fancyhead[L]{\rule{\textwidth}{1pt}} % Manually add one line
\fancyfoot[C]{\thepage} % Page number in the center of the footer

\newcommand{\colorbitbox}[3]{%
	\rlap{\bitbox{#2}{\color{#1}\rule{\width}{\height}}}%
	\bitbox{#2}{#3}}
\definecolor{lightcyan}{rgb}{0.84,1,1}
\definecolor{lightgreen}{rgb}{0.64,1,0.71}
\definecolor{lightred}{rgb}{1,0.7,0.71}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
	backgroundcolor=\color{backcolour},   
	commentstyle=\color{codegreen},
	keywordstyle=\color{magenta},
	numberstyle=\tiny\color{codegray},
	stringstyle=\color{codepurple},
	basicstyle=\ttfamily\footnotesize,
	breakatwhitespace=false,         
	breaklines=true,                 
	captionpos=b,                    
	keepspaces=true,                 
	numbers=left,                    
	numbersep=5pt,                  
	showspaces=false,                
	showstringspaces=false,
	showtabs=false,                  
	tabsize=2
}

\lstset{style=mystyle}

\ExplSyntaxOn
\NewDocumentCommand{\ReverseWords}{m}
{
	\seq_set_split:Nnn \l_tmpa_seq { ~ } { #1 } % Split words by spaces
	\seq_reverse:N \l_tmpa_seq % Reverse the order of words
	\seq_use:Nn \l_tmpa_seq { ~ } % Join words with spaces and output
}
\ExplSyntaxOff

\begin{document}
	\author{ مجتبی ملائی \\ ۴۰۱۳۱۳۸۳ }
	\title{ \huge { تکلیف چهارم}}
	\date{}
	\maketitle
\section{}

\begin{latin}
	

\begin{tabular}{|c|c|c|c|c|}
	\hline
	Ingress & IP.src & IP.des & Action & Comment \\
	\hline
	1 & 10.3.*.* & 10.1.*.* & forward to 2 & From h5/h6 to h1/h2, incoming from port 1, send to port 2 \\
	\hline
	2 & 10.1.*.* & 10.3.*.* & forward to 1 & From h1/h2 to h5/h6, incoming from port 2, send to port 1 \\
	\hline
	1 & *.*.*.* & 10.2.0.4 & forward to 4 & From any to h4, incoming from port 1, send to port 4 \\
	\hline
	1 & *.*.*.* & 10.2.0.3 & forward to 3 & From any to h3, incoming from port 1, send to port 3 \\
	\hline
	2 & *.*.*.* & 10.2.0.4 & forward to 4 & From any to h4, incoming from port 2, send to port 4 \\
	\hline
	2 & *.*.*.* & 10.2.0.3 & forward to 3 & From any to h3, incoming from port 2, send to port 3 \\
	\hline
	3 & 10.2.0.3 & 10.2.0.4 & forward to 4 & From h3 to h4, incoming from port 3, send to port 4 \\
	\hline
	4 & 10.2.0.4 & 10.2.0.3 & forward to 3 & From h4 to h3, incoming from port 4, send to port 3  \\
	\hline
\end{tabular}

\end{latin}
	
\section{}

\begin{latin}
	

\begin{tabular}{|c|c|c|c|c|}
	\hline
	Ingress & IP.src & IP.des & Action & Comment \\
	\hline
	3 & 10.2.0.3 & 10.1.*.* & forward to 2 & From h3 to h1/h2, incoming from port 3, send to port 2 \\
	\hline
	3 & 10.2.0.3 & 10.3.*.* & forward to 2 & From h3 to h5/h6, incoming from port 3, send to port 2 \\
	\hline
	4 & 10.2.0.4 & 10.1.*.* & forward to 1 & From h4 to h1/h2, incoming from port 4, send to port 1 \\
	\hline
	4 & 10.2.0.4 & 10.3.*.* & forward to 1 & From h4 to h5/h6, incoming from port 3, send to port 1 \\
	\hline
\end{tabular}
\end{latin}


\section{}
در \lr{S1}:
\begin{latin}
\begin{tabular}{|c|c|c|c|c|}
	\hline
	Ingress & IP.src & IP.des & Action & Comment \\
	\hline
	* & 10.2.*.* & 10.1.0.1 & forward to 2 & From h3/h4 to h1, incoming from any port, send to port 2 \\
	\hline
	* & 10.2.*.* & 10.1.0.2 & forward to 3 & From h3/h4 to h2, incoming from ant port, send to port 3\\
	\hline
	* & 10.2.*.* & 10.3.*.* & forward to 1 & From h3/h4 to h5/h6, incoming from any port, send to port 1 \\
\hline
\end{tabular}
\end{latin}

در \lr{S3}:
\begin{latin}
	\begin{tabular}{|c|c|c|c|c|}
		\hline
		Ingress & IP.src & IP.des & Action & Comment \\
		\hline
		* & 10.2.*.* & 10.3.0.6 & forward to 1 & From h3/h4 to h6, incoming from any port, send to port 1 \\
		\hline
		* & 10.2.*.* & 10.3.0.5 & forward to 2 & From h3/h4 to h5, incoming from any port, send to port 2 \\
		\hline
		* & 10.2.*.* & 10.1.*.* & forward to 3 & From h3/h4 to h1/h2, incoming from any port, send to port 3 \\
		\hline
	\end{tabular}
\end{latin}

\vspace{2cm}
\section{}
پکت هایی که برای مسیر آنها سطری در جدول وجود ندارد دراپ خواهند شد.
\begin{latin}
	

\begin{enumerate}
	
	\item 
	\begin{tabular}{|c|c|c|c|c|}
		\hline
		Ingress & IP.src & IP.des & Action & Comment \\
		\hline
		2 & 10.1.0.1 & 10.2.0.3 & forward to 3 & Allow h1 to h3 \\
		\hline
		2 & 10.1.0.1 & 10.2.0.4 & forward to 4 & Allow h1 to h4 \\
		\hline
		1 & 10.3.0.6 & 10.2.0.3 & forward to 3 & Allow h6 to h3 \\
		\hline
		1 & 10.3.0.6 & 10.2.0.4 & forward to 4 & Allow h6 to h4 \\
		\hline
	\end{tabular}

	\item 
	\begin{tabular}{|c|c|c|c|c|c|}
		\hline
		Ingress & IP.proto & ip.src & IP.des & Action & Comment \\
		\hline
		* & TCP & *.*.*.* & 10.2.0.3 & forward to 3 & Allow TCP to h3 \\
		\hline
		* & TCP &*.*.*.*  & 10.2.0.4 & forward to 4 & Allow TCP to h4 \\
		\hline
	\end{tabular}
	
	\item 
	\begin{tabular}{|c|c|c|c|c|}
		\hline
		Ingress & IP.src & IP.des & Action & Comment \\
		\hline
		* & *.*.*.* & 10.2.0.3 & forward to 3 & Allow all to h3 \\
		\hline
	\end{tabular}
	\item 
	\begin{tabular}{|c|c|c|c|c|c|}
		\hline
		Ingress  & IP.proto & IP.src & IP.des & Action & Comment \\
		\hline
		* & UDP & 10.1.0.1  & 10.2.0.3 & forward to 3 & Allow only UDP from h1 to h3 \\
		\hline
	\end{tabular}
	
\end{enumerate}
\end{latin}






\end{document}